"use strict";(self.webpackChunkgoit_react_hw_05_movie=self.webpackChunkgoit_react_hw_05_movie||[]).push([[888],{888:function(e,t,n){n.r(t),n.d(t,{default:function(){return Z}});var i=n(861),r=n(439),s=n(757),a=n.n(s),c=n(791),o=n(689),l=n(87),u=n(952),v="MovieDetails_movieDetails__EqwEX",h="MovieDetails_goBack__z8Pee",d="MovieDetails_movieInfo__XAfDM",_="MovieDetails_moviePoster__M1O9z",f="MovieDetails_posterImage__VZLT9",m="MovieDetails_movieDetailsText__Q7hl7",p="MovieDetails_tabs__8xDA5",x="MovieDetails_activeTab__h6QcQ",j="MovieDetails_castItem__i26IE",g="MovieDetails_castImage__w5i0K",w="MovieDetails_linkStyle__fRQm7",D="MovieDetails_ulStyle__CCU+X",M="MovieDetails_castButton__26MMb",b="MovieDetails_castMargin__ZgwAZ",k="MovieDetails_reviewsMargin__P24mL",N=n(184),Z=function(){var e=(0,o.UO)().movieId,t=(0,c.useState)(null),n=(0,r.Z)(t,2),s=n[0],Z=n[1],y=(0,c.useState)([]),C=(0,r.Z)(y,2),S=C[0],E=C[1],P=(0,c.useState)([]),I=(0,r.Z)(P,2),z=I[0],T=I[1],U=(0,o.s0)(),Q=(0,c.useState)(null),R=(0,r.Z)(Q,2),A=R[0],B=R[1];(0,c.useEffect)((function(){function t(){return(t=(0,i.Z)(a().mark((function t(){var n,i,s,c;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Promise.all([(0,u.TP)(e),(0,u.zv)(e)]);case 3:n=t.sent,i=(0,r.Z)(n,2),s=i[0],c=i[1],Z(s),E(c.cast),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log("Error fetching data:",t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),(0,c.useEffect)((function(){function t(){return(t=(0,i.Z)(a().mark((function t(){var n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,"reviews"!==A){t.next=6;break}return t.next=4,(0,u.tx)(e);case 4:n=t.sent,T(n.results);case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("Error fetching reviews:",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e,A]);var L,O=function(e){B(e)};return(0,N.jsxs)("div",{className:v,children:[(0,N.jsx)("button",{className:h,onClick:function(){U("/movies")},children:(0,N.jsx)(l.rU,{to:"/movies",className:w,children:"\u2190 Go Back"})}),s&&(0,N.jsxs)("div",{className:d,children:[(0,N.jsx)("div",{className:_,children:(0,N.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(s.poster_path),alt:s.original_title,className:f})}),(0,N.jsxs)("div",{className:m,children:[(0,N.jsxs)("h1",{children:[s.original_title," (",(L=s.release_date,new Date(L).getFullYear()),")"]}),(0,N.jsxs)("h2",{children:["User Score: ",10*s.vote_average,"%"]}),(0,N.jsx)("h2",{children:"Overview"}),(0,N.jsx)("p",{children:s.overview}),(0,N.jsx)("h2",{children:"Genres"}),(0,N.jsx)("p",{children:s.genres.map((function(e){return e.name})).join(", ")})]})]}),(0,N.jsx)("div",{className:p,children:(0,N.jsxs)("ul",{className:D,children:[(0,N.jsx)("li",{children:(0,N.jsx)("button",{onClick:function(){return O("cast")},className:"".concat("cast"===A?x:""," ").concat(M),children:"Cast"})}),(0,N.jsx)("li",{children:(0,N.jsx)("button",{onClick:function(){return O("reviews")},className:"".concat("reviews"===A?x:""),children:"Reviews"})})]})}),"cast"===A&&(0,N.jsxs)("div",{className:b,children:[(0,N.jsx)("h2",{children:"Cast"}),S.length>0?S.map((function(e){return(0,N.jsxs)("div",{className:j,children:[(0,N.jsx)("img",{src:"https://image.tmdb.org/t/p/w200/".concat(e.profile_path),alt:e.name,className:g}),(0,N.jsxs)("div",{children:[(0,N.jsx)("h4",{children:e.name}),(0,N.jsxs)("p",{children:["Character: ",e.character]})]})]},e.id)})):(0,N.jsx)("div",{children:"No cast available"})]}),"reviews"===A&&(0,N.jsxs)("div",{className:k,children:[(0,N.jsx)("h2",{children:"Reviews"}),z.length>0?z.map((function(e){return(0,N.jsxs)("div",{children:[(0,N.jsx)("h4",{children:e.author}),(0,N.jsx)("p",{children:e.content})]},e.id)})):(0,N.jsx)("div",{children:"No reviews available"})]})]})}},952:function(e,t,n){n.d(t,{Df:function(){return h},TP:function(){return _},tx:function(){return m},z1:function(){return d},zv:function(){return f}});var i=n(683),r=n(861),s=n(757),a=n.n(s),c=n(243),o="5f1e3b1759fab00680a52c6138151c80",l="https://api.themoviedb.org/3",u=function(){var e=(0,r.Z)(a().mark((function e(t){var n,r,s,l,u=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},e.prev=1,e.next=4,c.Z.get(t,{params:(0,i.Z)((0,i.Z)({},n),{},{api_key:o})});case 4:return r=e.sent,e.abrupt("return",r.data);case 8:throw e.prev=8,e.t0=e.catch(1),new Error((null===(s=e.t0.response)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.status_message)||"Something went wrong");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new URLSearchParams((0,i.Z)((0,i.Z)({},t),{},{api_key:o}));return"".concat(l).concat(e,"?").concat(n)},h=function(){return u(v("/trending/movie/day"))},d=function(e){return u(v("/search/movie",{query:e}))},_=function(e){return u(v("/movie/".concat(e)))},f=function(e){return u(v("/movie/".concat(e,"/credits")))},m=function(e){return u(v("/movie/".concat(e,"/reviews")))}}}]);
//# sourceMappingURL=888.db2eee6e.chunk.js.map